# ูุธุงู ุฅุฏุงุฑุฉ ุทูุจุงุช ุงูููุงุฏ - PRD

## ุงููุดููุฉ ุงูุฃุตููุฉ
ูุธุงู ููุฏูุฑ ูุดุชุฑูุงุช ูุชูุญ ูู 10 ูุดุฑููู ููุงูุน ุฅูุดุงุก ุทูุจุงุช ููุงุฏุ ุซู ูุนุชูุฏูุง 6 ูููุฏุณููุ ูุฃุฎูุฑุงู ูุตูู ุงูุทูุจ ููุฏูุฑ ุงููุดุชุฑูุงุช ูุฅุตุฏุงุฑ ุฃูุฑ ุงูุดุฑุงุก ููููุฑุฏูู.

---

## ๐ ุงูุชุญูู ุงููุงูู ุฅูู PostgreSQL (13 ููุงูุฑ 2026)

### โ ูุง ุชู ุฅูุฌุงุฒู ุจุงููุงูู:

#### Backend - ูุงุนุฏุฉ ุงูุจูุงูุงุช
- [x] ุงุชุตุงู ูุน PlanetScale PostgreSQL
- [x] ุฅูุดุงุก 15 ุฌุฏูู SQL
- [x] 59 API ูุญููุฉ ุฅูู PostgreSQL
- [x] ุฌููุน ุงูู Routes ุชุนูู ูุชู ุงุฎุชุจุงุฑูุง

#### Frontend - ุงููุงุฌูุฉ
- [x] `AuthContext.js` - ุชุญุฏูุซ ููู PostgreSQL APIs
- [x] `LoginPage.js` - ุชุญุฏูุซ URLs
- [x] `ProcurementDashboard.js` - ุชุญุฏูุซ fetchData ู Reports
- [x] `SupervisorDashboard.js` - ุชุญุฏูุซ fetchData
- [x] `EngineerDashboard.js` - ุชุญุฏูุซ fetchData
- [x] `GeneralManagerDashboard.js` - ุชุญุฏูุซ ูุงูู ููู GM APIs

---

## ๐ ุฏูุฑ ูุฏูุฑ ุงููุธุงู (System Admin) - ุฏูุณูุจุฑ 2025

### โ ุชู ุฅูุฌุงุฒู:

#### ุฅุนุงุฏุฉ ููููุฉ ุงูุตูุงุญูุงุช
- [x] ุฅูุดุงุก ุฏูุฑ `system_admin` ุงูุฌุฏูุฏ
- [x] ููู ุตูุงุญูุงุช ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ุฅูู ูุฏูุฑ ุงููุธุงู ููุท
- [x] ููู ุตูุงุญูุงุช ุงููุณุฎ ุงูุงุญุชูุงุทู/ุงูุงุณุชุนุงุฏุฉ ุฅูู ูุฏูุฑ ุงููุธุงู
- [x] ููู ุตูุงุญูุงุช ุชูุธูู ุงูุจูุงูุงุช ุฅูู ูุฏูุฑ ุงููุธุงู
- [x] ุฅุฒุงูุฉ ูุฐู ุงูุตูุงุญูุงุช ูู ูุฏูุฑ ุงููุดุชุฑูุงุช

#### ููุญุฉ ุชุญูู ูุฏูุฑ ุงููุธุงู (`SystemAdminDashboard.js`)
- [x] ุฅุญุตุงุฆูุงุช ุงููุธุงู (ุงููุณุชุฎุฏูููุ ุงููุดุงุฑูุนุ ุงูููุฑุฏููุ ุงูุทูุจุงุชุ ุฃูุงูุฑ ุงูุดุฑุงุกุ ุฅุฌูุงูู ุงููุจุงูุบ)
- [x] ุชุจููุจ ุงููุณุชุฎุฏููู: ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู ุงููุณุชุฎุฏููู
- [x] ุชุจููุจ ุฅุนุฏุงุฏุงุช ุงูุดุฑูุฉ:
  - ุดุนุงุฑ ุงูุดุฑูุฉ
  - ุงุณู ุงูุดุฑูุฉ
  - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
  - ุฑูู ุงููุงุชู
  - ููู ุงูุชูุงุฑูุฑ ุงูุฃุณุงุณู
  - ุนููุงู ุงูุดุฑูุฉ
  - ุฑุฃุณ ุงูุชูุฑูุฑ (Header)
  - ุชุฐููู ุงูุชูุฑูุฑ (Footer)
- [x] ุชุจููุจ ุงููุณุฎ ุงูุงุญุชูุงุทู:
  - ุชุตุฏูุฑ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ (JSON)
  - ุงุณุชุนุงุฏุฉ ุงูุจูุงูุงุช ูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ
  - ุชูุธูู ุฌููุน ุงูุจูุงูุงุช

#### APIs ูุฏูุฑ ุงููุธุงู (`pg_sysadmin_routes.py`)
- [x] `GET /api/pg/sysadmin/stats` - ุฅุญุตุงุฆูุงุช ุงููุธุงู
- [x] `GET /api/pg/sysadmin/company-settings` - ุฌูุจ ุฅุนุฏุงุฏุงุช ุงูุดุฑูุฉ
- [x] `PUT /api/pg/sysadmin/company-settings` - ุชุญุฏูุซ ุฅุนุฏุงุฏุงุช ุงูุดุฑูุฉ
- [x] `POST /api/pg/sysadmin/company-logo` - ุฑูุน ุดุนุงุฑ ุงูุดุฑูุฉ
- [x] `GET /api/pg/sysadmin/backup` - ุชุตุฏูุฑ ูุณุฎุฉ ุงุญุชูุงุทูุฉ
- [x] `POST /api/pg/sysadmin/restore` - ุงุณุชุนุงุฏุฉ ูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ
- [x] `POST /api/pg/sysadmin/clean-data` - ุชูุธูู ุงูุจูุงูุงุช
- [x] `DELETE /api/pg/sysadmin/delete-order/{order_id}` - ุญุฐู ุฃูุฑ ุดุฑุงุก

#### โ ุฃุฏูุงุช ุงููุธุงู (System Tools) - ููุงูุฑ 2026
- [x] ุชุจููุจ ุฌุฏูุฏ "ุฃุฏูุงุช ุงููุธุงู" ูู ููุญุฉ ูุฏูุฑ ุงููุธุงู
- [x] ุนุฑุถ ูุนูููุงุช ุงููุธุงู (ุฅุตุฏุงุฑุ ูุธุงู ุงูุชุดุบููุ Pythonุ ุงุณู ุงูุฎุงุฏู)
- [x] ูุฑุงูุจุฉ ููุงุฑุฏ ุงููุธุงู (CPUุ RAMุ ุงููุฑุต) ูุน ุดุฑูุท ุชูุฏู ูููู
- [x] ุงูุชุญูู ูู ุชุญุฏูุซุงุช ุงููุธุงู ูุนุฑุถ ููุงุญุธุงุช ุงูุฅุตุฏุงุฑ
- [x] ุฅุญุตุงุฆูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช (ุนุฏุฏ ุงูุฌุฏุงููุ ููุน DBุ ุญุฌู Pool)
- [x] ุณุฌูุงุช ุงููุธุงู (ุนุฑุถุ ุชุตููุฉ ุญุณุจ ุงููุณุชููุ ุญุฐู ุงููุฏูู)

#### APIs ุฃุฏูุงุช ุงููุธุงู (`system_routes.py`)
- [x] `GET /api/pg/system/info` - ูุนูููุงุช ุงููุธุงู ูุงูููุงุฑุฏ
- [x] `GET /api/pg/system/check-updates` - ุงูุชุญูู ูู ุงูุชุญุฏูุซุงุช
- [x] `POST /api/pg/system/apply-update` - ุชุทุจูู ุงูุชุญุฏูุซ
- [x] `GET /api/pg/system/logs` - ุฌูุจ ุณุฌูุงุช ุงููุธุงู
- [x] `POST /api/pg/system/logs/add` - ุฅุถุงูุฉ ุณุฌู
- [x] `DELETE /api/pg/system/logs/clear` - ุญุฐู ุงูุณุฌูุงุช ุงููุฏููุฉ
- [x] `GET /api/pg/system/database-stats` - ุฅุญุตุงุฆูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

#### โ ุณุฌู ุงูุชุฏููู (Audit Trail) - ุฏูุณูุจุฑ 2025
- [x] ุชุจููุจ ุฌุฏูุฏ ูู ููุญุฉ ูุฏูุฑ ุงููุธุงู "ุณุฌู ุงูุชุฏููู"
- [x] ุนุฑุถ ุฌููุน ุงูุนูููุงุช ูุน ุงูุชูุงุตูู (ุงูุชุงุฑูุฎุ ุงููุณุชุฎุฏูุ ุงูุฏูุฑุ ููุน ุงูููุงูุ ุงูุฅุฌุฑุงุกุ ุงููุตู)
- [x] ููุงุชุฑ ุญุณุจ ููุน ุงูููุงู (ูุณุชุฎุฏูุ ูุดุฑูุนุ ุทูุจุ ุฃูุฑ ุดุฑุงุกุ ููุฑุฏุ ุชุตููู)
- [x] ุงุฎุชูุงุฑ ุนุฏุฏ ุงูุณุฌูุงุช (50ุ 100ุ 200ุ 500)
- [x] ุฃููุงู ูููุฒุฉ ููุฅุฌุฑุงุกุงุช (ุฃุฎุถุฑ ููุฅูุดุงุก/ุงูุงุนุชูุงุฏุ ุฃุญูุฑ ููุญุฐู/ุงูุฑูุถุ ุฃุฒุฑู ููุชุญุฏูุซ)
- [x] ุชุณุฌูู ุชููุงุฆู ูุฌููุน ุงูุนูููุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช PostgreSQL

---

## ๐งช ูุชุงุฆุฌ ุงูุงุฎุชุจุงุฑ:
| ุงูุตูุญุฉ | ุงูุญุงูุฉ | ุงูุจูุงูุงุช |
|--------|--------|----------|
| ุชุณุฌูู ุงูุฏุฎูู | โ | PostgreSQL |
| ูุฏูุฑ ุงููุดุชุฑูุงุช | โ | ุจุฏูู ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู/ุงููุณุฎ ุงูุงุญุชูุงุทู |
| ูุฏูุฑ ุงููุธุงู | โ | ูุงูู ุงูุตูุงุญูุงุช |
| ุงููุดุฑู | โ | ุทูุจ A1 ูุธูุฑ |
| ุงููุฏูุฑ ุงูุนุงู | โ | ุฃูุฑ PO-00000001 ูุนุชูุฏ |

---

## ุจูุงูุงุช ุงูุงุฎุชุจุงุฑ (PostgreSQL)

| ุงูุฏูุฑ | ุงูุจุฑูุฏ ุงูุฅููุชุฑููู | ูููุฉ ุงููุฑูุฑ |
|-------|-----------------|-------------|
| ูุฏูุฑ ุงููุธุงู | admin@system.com | 123456 |
| ูุฏูุฑ ูุดุชุฑูุงุช | notofall@gmail.com | 123456 |
| ุงููุฏูุฑ ุงูุนุงู | md@gmail.com | 123456 |
| ูููุฏุณ | engineer1@test.com | 123456 |
| ูุดุฑู | supervisor1@test.com | 123456 |

---

## ุงูููุงู ุงููุงุฏูุฉ

### ๐ด P0 - ุฃููููุฉ ุนุงุฌูุฉ - โ ุชู ุฅููุงู ุงููู
1. ~~ุฅุตูุงุญ ุฒุฑ "ุนุฑุถ ุฃูุฑ ุงูุดุฑุงุก" (ูุง ูุนุฑุถ ุงูุฃุฑูุงู ุงูุตุญูุญุฉ)~~ โ ุชู
2. ~~ุฅุตูุงุญ ุฒุฑ "ุงูููุงููุฉ ุนูู ุงููู" ุงูุฐู ูุธูุฑ ุจุดูู ุฎุงุทุฆ ุจุนุฏ ุฅุตุฏุงุฑ ุฃูุฑ ุงูุดุฑุงุก~~ โ ุชู
3. ~~ุฅุถุงูุฉ ููุชุฑ "ุจุงูุชุธุงุฑ ููุงููุฉ ุงููุฏูุฑ ุงูุนุงู" ูู ููุญุฉ ูุฏูุฑ ุงููุดุชุฑูุงุช~~ โ ุชู
4. ~~ุชุญุณูู ููุงุชุฑ ุชุตุฏูุฑ PDF (ุญุณุจ ุงููุดุฑูุนุ ุงููุดุฑูุ ุงููููุฏุณุ ููุน ุงูููุงููุฉ)~~ โ ุชู
5. ~~ุฅุตูุงุญ ุฃุฑูุงู ุฃูุงูุฑ ุงูุดุฑุงุก ูู ูููุงุช PDF (ุนุฑุถ PO-00000001 ุจุฏูุงู ูู ูุนุฑู ูุงุนุฏุฉ ุงูุจูุงูุงุช)~~ โ ุชู

### โ ุชูุธูู ุงูููุฏ - ุฏูุณูุจุฑ 2025
1. ~~ุญุฐู ุฏุงูุฉ `handleDeleteOrder` ุบูุฑ ุงููุณุชุฎุฏูุฉ ูู `ProcurementDashboard.js`~~ โ ุชู

### โ ุฃุฏูุงุช ุงููุธุงู (System Tools) - ููุงูุฑ 2026
1. ~~ูุนูููุงุช ุงููุธุงู (ุฅุตุฏุงุฑุ ูุธุงู ุงูุชุดุบููุ Pythonุ ููุงุฑุฏ ุงููุธุงู)~~ โ ุชู
2. ~~ุงูุชุญูู ูู ุงูุชุญุฏูุซุงุช ูุชุทุจูููุง~~ โ ุชู
3. ~~ุฅุญุตุงุฆูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช~~ โ ุชู
4. ~~ุณุฌูุงุช ุงููุธุงู (ุนุฑุถุ ุชุตููุฉุ ุญุฐู ุงููุฏูู)~~ โ ุชู
5. ~~ุฑูุน ุชุญุฏูุซ ูุฏูู (ZIP Upload)~~ โ ุชู

### โ ูุธุงู ุงูุฅุนุฏุงุฏ ุงูุฐุงุชู (Self-Hosted Setup) - ููุงูุฑ 2026
1. ~~ุตูุญุฉ ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช (/db-setup)~~ โ ุชู
2. ~~ุงุฎุชูุงุฑ ููุน ุงููุงุนุฏุฉ (ูุญููุฉ/ุณุญุงุจูุฉ)~~ โ ุชู
3. ~~ุฅุฏุฎุงู ุจูุงูุงุช ุงูุงุชุตุงู ูุงุฎุชุจุงุฑูุง~~ โ ุชู
4. ~~ุฅูุดุงุก ุญุณุงุจ ูุฏูุฑ ุงููุธุงู~~ โ ุชู
5. ~~ุญูุธ ุงูุฅุนุฏุงุฏุงุช ูู .env~~ โ ุชู
6. ~~GitHub Actions ูุจูุงุก Docker ุชููุงุฆูุงู~~ โ ุชู
7. ~~ุณูุฑุจุช ุงูุชุญุฏูุซ ููุฎุงุฏู~~ โ ุชู

### ๐ก P1 - ุฃููููุฉ ูุชูุณุทุฉ  
1. ~~PWA ููููุจุงูู~~ โ ุชู - ููุงูุฑ 2025
2. ~~Price Catalog APIs (PostgreSQL)~~ โ ุชู
3. ุงุฎุชุจุงุฑ ุดุงูู ููุชุฏูู ุงููุงูู
4. ~~ุชูุนูู Audit Trail ุจุดูู ูุงูู ูู ุฌููุน ุงูุนูููุงุช~~ โ ุชู
5. ~~ุชูุธูู ููุฏ MongoDB ุงููุฏูู ูู `server.py`~~ โ ุชู (ุชูููุต ูู 5457 ุฅูู 89 ุณุทุฑ)
6. ~~ุฅููุงู ูุธุงู ุงูุฅุนุฏุงุฏ ุงูุฐุงุชู (Self-Hosted Setup)~~ โ ุชู - ููุงูุฑ 2026

### ๐ข P2 - ุฃููููุฉ ููุฎูุถุฉ
1. File Attachments (ูุฑููุงุช ุนุฑูุถ ุงูุฃุณุนุงุฑ)
2. Email Notifications (SendGrid - ุชุญุชุงุฌ ููุชุงุญ API)
3. ~~ุชูุงุฑูุฑ ูุชูุฏูุฉ ูุชุญูููุงุช~~ โ ุชู - ุฏูุณูุจุฑ 2025
4. ูุธุงู ุงูุชุฑุงุฎูุต (Licensing System)
5. ุงูุฑุณูู ุงูุจูุงููุฉ ุงูุชูุงุนููุฉ ููุชูุงุฑูุฑ

---

## ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

### PlanetScale PostgreSQL:
```
Host: eu-central-2.pg.psdb.cloud
Port: 6432
Database: postgres
SSL: Required
```

---

## ุงููููู ุงูุชููู ุงูููุงุฆู

### Backend:
```
/app/backend/
โโโ server.py              # FastAPI app (MongoDB + PostgreSQL)
โโโ database/
โ   โโโ __init__.py
โ   โโโ config.py          # PostgreSQL settings
โ   โโโ connection.py      # SQLAlchemy engine
โ   โโโ models.py          # 15 SQLAlchemy models
โโโ routes/
    โโโ pg_auth_routes.py      # Auth APIs (13)
    โโโ pg_projects_routes.py  # Projects APIs (5)
    โโโ pg_suppliers_routes.py # Suppliers APIs (5)
    โโโ pg_budget_routes.py    # Budget APIs (8)
    โโโ pg_requests_routes.py  # Requests APIs (7)
    โโโ pg_orders_routes.py    # Orders APIs (10)
    โโโ pg_settings_routes.py  # Settings APIs (11)
    โโโ pg_sysadmin_routes.py  # System Admin APIs (8) - NEW
```

### Frontend:
```
/app/frontend/src/
โโโ context/AuthContext.js     # Updated for /api/pg
โโโ pages/
โ   โโโ LoginPage.js           # Updated
โ   โโโ ProcurementDashboard.js # Updated - removed user management
โ   โโโ SystemAdminDashboard.js # NEW - full admin controls
โ   โโโ SupervisorDashboard.js  # Updated
โ   โโโ EngineerDashboard.js    # Updated
โ   โโโ GeneralManagerDashboard.js # Updated
โโโ utils/pdfExport.js
```

---

## ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช

| ุงูุฏูุฑ | ุงูุตูุงุญูุงุช |
|-------|----------|
| **ูุฏูุฑ ุงููุธุงู** | ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏูููุ ุงููุณุฎ ุงูุงุญุชูุงุทู/ุงูุงุณุชุนุงุฏุฉุ ุชูุธูู ุงูุจูุงูุงุชุ ุฅุนุฏุงุฏุงุช ุงูุดุฑูุฉ |
| **ูุฏูุฑ ุงููุดุชุฑูุงุช** | ุฅุฏุงุฑุฉ ุงูููุฑุฏููุ ุงูููุฒุงููุงุชุ ุงููุชุงููุฌุ ุฅุตุฏุงุฑ ุฃูุงูุฑ ุงูุดุฑุงุกุ ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ |
| **ุงููุฏูุฑ ุงูุนุงู** | ุงุนุชูุงุฏ ุฃูุงูุฑ ุงูุดุฑุงุก ุงููุจูุฑุฉ |
| **ุงููููุฏุณ** | ุงุนุชูุงุฏ/ุฑูุถ ุทูุจุงุช ุงูููุงุฏ |
| **ุงููุดุฑู** | ุฅูุดุงุก ุทูุจุงุช ุงูููุงุฏ |
| **ุงูุทุงุจุนุฉ** | ุทุจุงุนุฉ ุฃูุงูุฑ ุงูุดุฑุงุก |
| **ูุชุชุจุน ุงูุชุณููู** | ุชุชุจุน ูุชุณุฌูู ุงูุชุณูููุงุช |
